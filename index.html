<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>キャリアスタディ</title>
    <link rel="icon" type="image/x-icon" href="./favicon.ico">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/themes/base/jquery-ui.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./index.css">
    <style>
        header {
            background-color: #fcac04;
        }
        .logo {
            color: #fff;
        }
        .title hr {
            border-top: 8px solid #fcac04;
        }
    </style>
</head>

<body>
	
    <header>
        <div class="header-block">
            <p class="logo">キャリアスタディ</p>
        </div>
    </header>
    <div class="contents">
        <div class="title">
            <p id="formTitle">情報登録フォーム</p>
            <hr>
        </div>
    </div>
    
    <!-- 登録フォーム -->
    <div class="form" id="register-form">
        <p class="form-text">メールアドレス</p>
        <input type="email" name="email" id="form_answer01" pattern=".+@.+\..+" required="required" placeholder="例：example@example.com">
	<div class="form-group">
	    <label for="form_answer20" class="form-text">パスワード設定</label>
	    <input type="password" name="password" id="form_answer20" required="required" minlength="8" placeholder="8文字以上で入力してください">
	    <p class="password-hint">※英字・数字を含む8文字以上で設定してください</p>
	    <p class="password-hint">※キャリスタアプリのログインに用います。忘れずに控えておきましょう。</p>
	</div>
	<div class="form-group">
	    <label for="form_answer21" class="form-text">パスワード確認</label>
	    <input type="password" name="password_confirm" id="form_answer21" required="required" minlength="8" placeholder="確認のため再入力してください">
	</div>
        <p class="form-text">電話番号</p>
        <input type="text" name="telNumber" id="form_answer02" pattern="\d{1,5}-\d{1,4}-\d{4,5}" required="required" placeholder="例：000-0000-0000">
        <p class="form-text">氏名</p>
        <div class="form-name">
            <input type="text" name="last_name" id="form_answer03" required="required" placeholder="苗字">
            <input type="text" name="first_name" id="form_answer04" required="required" placeholder="名前">
        </div>
        <p class="form-text">ふりがな</p>
        <div class="form-name">
            <input type="text" name="last_name_read" id="form_answer05" required="required" placeholder="みょうじ">
            <input type="text" name="first_name_read" id="form_answer06" required="required" placeholder="なまえ">
        </div>
        <p class="form-text">生年月日</p>
        <div class="form-select-wrap">
            <select class="birthday-year" id="form_answer07" required="required">
            </select>
            / 
            <select class="birthday-month" id="form_answer08" required="required">
            </select>
            /
            <select class="birthday-day" id="form_answer09" required="required">
            </select>
        </div>
        <p class="form-text">大学名
	<font size="1">※入力すると候補が表示されます。</font></p>
	<input type="text" name="university-name" id="form_answer10" list="university" placeholder="大学名" autocomplete="off" required="required">
	　<datalist id="university">
                <option>愛国学園大学</option>
                <option>愛知大学</option>
                <option>愛知医科大学</option>
                <option>愛知学院大学</option>
                <option>愛知学泉大学</option>
                <option>愛知教育大学</option>
                <option>愛知県立大学</option>
                <option>愛知県立芸術大学</option>
                <option>愛知工科大学</option>
                <option>愛知工業大学</option>
                <option>愛知産業大学</option>
                <option>愛知淑徳大学</option>
                <option>愛知東邦大学</option>
                <option>愛知文教大学</option>
                <option>愛知みずほ大学</option>
                <option>会津大学</option>
                <option>藍野大学</option>
                <option>青森大学</option>
                <option>青森県立保健大学</option>
                <option>青森公立大学</option>
                <option>青森中央学院大学</option>
                <option>青山学院大学</option>
                <option>早稲田大学</option>
                <option>和洋女子大学</option>
	</datalist>

            <p class="form-text">部活名</p>
            <select name="club-name" id="form_answer11" required="required">
                <optgroup label="無所属">
                    <option>無所属</option>
                </optgroup>
                <optgroup label="球技">
                    <option>アイスホッケー</option>
                    <option>アメリカンフットボール</option>
                    <option>アルティメット</option>
                    <option>硬式野球</option>
                    <option>準硬式野球</option>
                    <option>軟式野球</option>
                    <option>硬式テニス (硬式庭球)</option>
                    <option>ソフトテニス (軟式庭球)</option>
                    <option>男子サッカー</option>
                    <option>女子サッカー</option>
                    <option>男子ソフトボール</option>
                    <option>女子ソフトボール</option>
                    <option>男子卓球</option>
                    <option>女子卓球</option>
                    <option>男子バスケットボール</option>
                    <option>女子バスケットボール</option>
                    <option>バドミントン</option>
                    <option>男子バレーボール</option>
                    <option>女子バレーボール</option>
                    <option>男子ハンドボール</option>
                    <option>女子ハンドボール</option>
                    <option>男子フィールド (陸上) ホッケー</option>
                    <option>女子フィールド (陸上) ホッケー</option>
                    <option>フットサル</option>
                    <option>男子ラクロス</option>
                    <option>女子ラクロス</option>
                    <option>ラグビー</option>
                    <option>ローラーホッケー</option>
                    <option>タッチフットボール</option>
                    <option>セパタクロー</option>
                  </optgroup>
                  <optgroup label="格技・武道・武術">
                    <option>合気道</option>
                    <option>居合道</option>
                    <option>空手道</option>
                    <option>剣道</option>
                    <option>柔道</option>
                    <option>少林寺拳法</option>
                    <option>相撲</option>
                    <option>躰道</option>
                    <option>テコンドー</option>
                    <option>なぎなた</option>
                    <option>日本拳法</option>
                    <option>馬術</option>
                    <option>フェンシング</option>
                    <option>ボクシング</option>
                    <option>レスリング</option>
                  </optgroup>
                  <optgroup label="陸上">
                    <option>陸上</option>
                  </optgroup>
                  <optgroup label="射的系">
                    <option>アーチェリー (洋弓)</option>
                    <option>弓道 (弓術)</option>
                    <option>ゴルフ</option>
                    <option>射撃</option>
                    <option>ボウリング</option>
                  </optgroup>
                <optgroup label="水泳・水上">
                    <option>カヌー</option>
                    <option>水泳・競泳</option>
                    <option>水球</option>
                    <option>水上スキー</option>
                    <option>サーフィン</option>
                    <option>ボート漕艇</option>
                    <option>ボードセーリング</option>
                    <option>ライフセービング</option>
                    <option>ヨット</option>
                </optgroup>
                <optgroup label="その他">
                    <option>スキー</option>
                    <option>スケート</option>
                    <option>体操</option>
                    <option>チアリーディング チアダンス</option>
                    <option>競技ダンス</option>
                    <option>応援団</option>
                    <option>ウエイトリフティング(重量挙)</option>
                    <option>航空</option>
                    <option>自転車</option>
                    <option>自動車</option>
                    <option>山岳</option>
                    <option>吹奏楽</option>
                    <option>新聞・編集</option>
                    <option>ローバースカウト</option>
                    <option>ワンダーフォーゲル</option>
                    <option>トライアスロン</option>
                    <option>無所属</option>
                </optgroup>
                <optgroup label="学生団体・ドーミー">
                    <option>JNSA基金</option>
                    <option>ドーミー</option>
                </optgroup>
            </select>

            <p class="form-text">学年</p>
            <select name="grade" id="form_answer12" required="required">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>院1</option>
                <option>院2</option>
            </select>
            <p class="form-text">性別</p>
            <select name="sex" id="form_answer13" required="required">
                <option>男性</option>
                <option>女性</option>
                <option>その他</option>
                <option>回答しない</option>
            </select>
            <p class="form-text">出身地</p>
            <select name="from_area" id="form_answer14" required="required">
                <optgroup label="北海道・東北">
                    <option value="北海道">北海道</option>
                    <option value="青森県">青森県</option>
                    <option value="岩手県">岩手県</option>
                    <option value="宮城県">宮城県</option>
                    <option value="秋田県">秋田県</option>
                    <option value="山形県">山形県</option>
                    <option value="福島県">福島県</option>
                </optgroup>
                <optgroup label="関東">
                    <option value="茨城県">茨城県</option>
                    <option value="栃木県">栃木県</option>
                    <option value="群馬県">群馬県</option>
                    <option value="埼玉県">埼玉県</option>
                    <option value="千葉県">千葉県</option>
                    <option value="東京都">東京都</option>
                    <option value="神奈川県">神奈川県</option>
                </optgroup>
                <optgroup label="中部">
                    <option value="新潟県">新潟県</option>
                    <option value="富山県">富山県</option>
                    <option value="石川県">石川県</option>
                    <option value="福井県">福井県</option>
                    <option value="山梨県">山梨県</option>
                    <option value="長野県">長野県</option>
                    <option value="岐阜県">岐阜県</option>
                    <option value="静岡県">静岡県</option>
                    <option value="愛知県">愛知県</option>
                </optgroup>
                <optgroup label="近畿">
                    <option value="三重県">三重県</option>
                    <option value="滋賀県">滋賀県</option>
                    <option value="京都府">京都府</option>
                    <option value="大阪府">大阪府</option>
                    <option value="兵庫県">兵庫県</option>
                    <option value="奈良県">奈良県</option>
                    <option value="和歌山県">和歌山県</option>
                </optgroup>
                <optgroup label="中国・四国">
                    <option value="鳥取県">鳥取県</option>
                    <option value="島根県">島根県</option>
                    <option value="岡山県">岡山県</option>
                    <option value="広島県">広島県</option>
                    <option value="山口県">山口県</option>
                    <option value="徳島県">徳島県</option>
                    <option value="香川県">香川県</option>
                    <option value="愛媛県">愛媛県</option>
                    <option value="高知県">高知県</option>
                </optgroup>
                <optgroup label="九州・沖縄">
                    <option value="福岡県">福岡県</option>
                    <option value="佐賀県">佐賀県</option>
                    <option value="長崎県">長崎県</option>
                    <option value="熊本県">熊本県</option>
                    <option value="大分県">大分県</option>
                    <option value="宮崎県">宮崎県</option>
                    <option value="鹿児島県">鹿児島県</option>
                    <option value="沖縄県">沖縄県</option>
                </optgroup>
                <optgroup label="その他">
                    <option value="日本国外">日本国外</option>
                </optgroup>
            </select>

            <p class="form-text">役職</p>
            <select name="role" id="form_answer15" required="required">
                <option>主将/代表</option>
                <option>副将</option>
                <option>主務</option>
                <option>会計</option>
                <option>広報</option>
                <option>渉外</option>
                <option>渉内</option>
                <option>その他</option>
                <option>特になし</option>
            </select>
            <p class="form-text">学部</p>
            <input type="text" name="faculty" id="form_answer16" required="required" minlength="1">
            <p class="form-text">学科</p>
            <input type="text" name="department" id="form_answer17" required="required" minlength="1">
            <p class="form-text">学業種別</p>
            <select name="academic_field" id="form_answer18" required="required">
                <option>文系</option>
                <option>体育・スポーツ系</option>
                <option>理系（機械系）</option>
                <option>理系（電気系）</option>
                <option>理系（建築・土木系）</option>
                <option>理系（情報系）</option>
                <option>理系（化学系）</option>
                <option>理系（農学・水産系）</option>
                <option>理系（その他）</option>
            </select>
	    
            <p class="form-text">個人情報同意</p>
            <div style="height: 150px; overflow-y: scroll; border: 1px solid #ccc; padding: 10px;">
                <p style="text-align: left;">
                個人情報保護方針<br>
                【1】個人情報取り扱いに関する基本方針<br>
                株式会社Mill Career（以下「当社」という）は、以下のとおり個人情報保護方針を定め、個人情報保護の仕組みを構築し、全従業員に個人情報保護の重要性の認識と取組みを徹底させることにより、個人情報の保護を推進することを宣言いたします。<br>
                当社は利用目的を明確にした上で個人情報を取得し、目的の範囲内に限り、個人情報を利用いたします。また、利用目的の範囲を超えて個人情報の利用を行わないよう、社内の管理体制の整備および安全管理措置を講じます。<br>
                個人情報の管理は、厳重に行うこととし、お客様にご承諾いただいた場合を除き、第三者に対しデータを開示・提供することは原則いたしません。また個人情報 の漏洩、滅失又は毀損を防ぐため、安全管理措置を規定し実施いたします。また問題発生の予防のための手順を設け実施するとともに、万が一の問題発生に対 しては速やかに再発防止のための是正を行います。<br>
                当社は、当社が保有する個人情報の取扱いに関して適用される法令、国が定める指針及びその他の規範を遵守いたします。<br>
                当社は、当社が保有する個人情報に対するお問い合わせや苦情に対して、受付、対応の体制と手順を整備し、迅速に対応いたします。 当社は、個人情報保護に関する管理の体制と仕組みについて継続的改善を実施いたします。<br>
                当社は、下記の方針に従い、個人情報の取り扱いに細心の注意を払います。<br>
                <br>
                【2】定義<br>
                個人情報とは、個人に関する情報であって、その情報を構成する氏名、住所、電話番号、メールアドレス、所属組織、生年月日その他の記述等により個人を識別できるものをいいます。また、その情報のみでは識別できない場合でも、他の情報と容易に照合することができ、結果的に個人を識別できる情報も個人情報に含まれます。<br>
                </p>
            </div>
            <p>
                <input type="checkbox" name="agreement" id="form_answer19" value="同意する" required="required">
                <label for="form_answer19">同意する</label>
            </p>
	    
	    <br>    
            <div class="btn-block">
                <button class="btn" onclick="onSubmit()" style="background-color:#fcac04;">送信</button>
            </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
    <script charset="utf-8" src="https://static.line-scdn.net/liff/edge/2.1/sdk.js"></script>
    <script src="liff.js"></script>
    <script src="index.js"></script>
    <script>
    // パスワード検証機能
    const passwordInput = document.getElementById('form_answer20');
    const confirmPasswordInput = document.getElementById('form_answer21');

    // パスワード検証関数
    function validatePassword() {
        const password = passwordInput.value;
        const confirmPassword = confirmPasswordInput.value;
        
        // エラーメッセージ要素の作成・取得
        let passwordError = document.getElementById('password-error');
        if (!passwordError) {
            passwordError = document.createElement('p');
            passwordError.id = 'password-error';
            passwordError.style.color = 'red';
            passwordError.style.fontSize = '14px';
            passwordInput.parentNode.appendChild(passwordError);
        }
        
        let confirmError = document.getElementById('confirm-password-error');
        if (!confirmError) {
            confirmError = document.createElement('p');
            confirmError.id = 'confirm-password-error';
            confirmError.style.color = 'red';
            confirmError.style.fontSize = '14px';
            confirmPasswordInput.parentNode.appendChild(confirmError);
        }
        
        // エラーメッセージのリセット
        passwordError.textContent = '';
        confirmError.textContent = '';
        
        // パスワードの長さのバリデーション
        if (password.length < 8) {
            passwordError.textContent = 'パスワードは8文字以上で入力してください';
            return false;
        }
        
        // パスワードに英字と数字が含まれているかのバリデーション
        const hasLetter = /[a-zA-Z]/.test(password);
        const hasNumber = /[0-9]/.test(password);
        
        if (!hasLetter || !hasNumber) {
            passwordError.textContent = 'パスワードは英字と数字を含む必要があります';
            return false;
        }
        
        // パスワードの一致確認
        if (password !== confirmPassword && confirmPassword.length > 0) {
            confirmError.textContent = 'パスワードが一致しません';
            return false;
        }
        
        return true;
    }

    // イベントリスナーの追加
    passwordInput.addEventListener('input', validatePassword);
    confirmPasswordInput.addEventListener('input', validatePassword);

    // 送信ボタンのクリックイベントハンドラ
    document.querySelector('.btn').addEventListener('click', function(event) {
        if (!validatePassword()) {
            event.preventDefault();
        }
    });
    
    // 初期表示設定
    document.addEventListener('DOMContentLoaded', function() {
        // フォームを表示
        document.getElementById('register-form').style.display = 'block';
    });
    </script>
</body>
</html>
